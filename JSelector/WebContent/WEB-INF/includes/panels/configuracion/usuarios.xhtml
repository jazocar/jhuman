<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ace="http://www.icefaces.org/icefaces/components"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:icecore="http://www.icefaces.org/icefaces/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	<ace:submitMonitor for="mantenedorUsuarios"
									   idleLabel="Idle"
                                       activeLabel="Cargando..."
                                       serverErrorLabel="Error de Servidor"
                                       networkErrorLabel="Error de Red"
                                       sessionExpiredLabel="Sesión expirada"
                                        blockUI="@all" rendered="true" />
	<h:form id="mantenedorUsuarios">
	<ice:panelGroup styleClass="iceDatTblColHdr">
	<div align="left">
	<ice:outputText value="Estas aquí : " style="padding-right: 10px;"/>   
	 <ice:commandLink value="Inicio" style="padding-right:5px;" actionListener="#{navigationBean.navigationStackChange}" >
	    <ace:ajax event="activate" execute="@this">
										<f:param name="stackName" value="inicioPorHacerPanel" />
									</ace:ajax>
		</ice:commandLink><ice:outputText value=">"/>
		<ice:commandLink value="Mantenedor de Usuarios" style="padding-left:5px;" actionListener="#{navigationBean.navigationStackChange}">
	    <ace:ajax event="activate" execute="@this">
										<f:param name="stackName" value="mantenedorUsuariosPanel" />
									</ace:ajax>
		</ice:commandLink>
	  </div>	
	  </ice:panelGroup>
	 <ice:panelGroup style="width: 1010px; background-color:white; padding-top: 5px;">
                           <ice:panelGroup styleClass="iceDatTblColHdr">
                           <div align="left">
                               <ice:outputText value="::Mantenedor de Usuarios" style="font-size:medium; color:black;"/>
                           </div>
               </ice:panelGroup>   
               
               <br/> 
              <table>
			<tr>
				<td align="left"><ice:outputText value="Usuario" style="font-family: 'Times New Roman', Times, serif;"/></td>
				<td align="left"><ice:inputText immediate="true" value="#{usuarioFrontBean.inputUsuario}" style="font-family: 'Times New Roman', Times, serif;"/></td>
				<td align="left"><ice:outputText value="Password" style="font-family: 'Times New Roman', Times, serif;"/></td>
				<td align="left"><ice:inputSecret immediate="true"  value="#{usuarioFrontBean.inputPassword}"/></td>
				<td align="left"><ice:outputText value="Re-Password" style="font-family: 'Times New Roman', Times, serif;"/></td>
				<td align="left"><ice:inputSecret immediate="true"  value="#{usuarioFrontBean.inputRepassword}"/></td>
			</tr>
			<tr>
				<td align="left"><ice:outputText value="Nombre" style="font-family: 'Times New Roman', Times, serif;"/></td>
				<td align="left"><ice:inputText immediate="true"  value="#{usuarioFrontBean.inputNombre}" style="font-family: 'Times New Roman', Times, serif;"/></td>
				<td align="left"><ice:outputText value="Rol Organización" style="font-family: 'Times New Roman', Times, serif;" /></td>
				<td align="left"><ice:selectOneMenu
						 value="#{usuarioFrontBean.inputRol}" immediate="true" style="font-family: 'Times New Roman', Times, serif;">
						<f:selectItem itemValue="-1" itemLabel="Seleccione..." />
						<f:selectItems value="#{usuarioFrontBean.listaRol}" />
					</ice:selectOneMenu></td>
				<td align="left"><ice:outputText value="Rol Proceso" style="font-family: 'Times New Roman', Times, serif;"/></td>
				<td align="left"><ice:selectOneMenu value="#{usuarioFrontBean.inputRolProceso}"  immediate="true" style="font-family: 'Times New Roman', Times, serif;">
						<f:selectItem itemValue="-1" itemLabel="Seleccione..." />
						<f:selectItems value="#{usuarioFrontBean.listaRolProceso}" />
					</ice:selectOneMenu></td>
			</tr>
			<tr>
				<td align="left"><ice:outputText value="Organizacion" style="font-family: 'Times New Roman', Times, serif;"/></td>
				<td align="left"><ice:selectOneMenu
						 value="#{usuarioFrontBean.inputOrganizacion}" partialSubmit="true" immediate="true" valueChangeListener="#{usuarioFrontBean.changeOrganizacion}" style="font-family: 'Times New Roman', Times, serif;">
						<f:selectItem itemValue="-1" itemLabel="Seleccione..." />
						<f:selectItems value="#{usuarioFrontBean.listaOrg}" />
					</ice:selectOneMenu></td>
				<td align="left"><ice:outputText value="Empresa" style="font-family: 'Times New Roman', Times, serif;"/></td>
				<td align="left"><ice:selectOneMenu
						 value="#{usuarioFrontBean.inputEmpresa}" immediate="true" style="font-family: 'Times New Roman', Times, serif;">
						<f:selectItem itemValue="-1" itemLabel="Seleccione..." />
						<f:selectItems value="#{usuarioFrontBean.listaEmpresas}" />
					</ice:selectOneMenu></td>
				
			</tr>
			<tr>
				<td align="left"><ice:outputText value="Area" style="font-family: 'Times New Roman', Times, serif;"/></td>
				<td align="left"><ice:selectOneMenu
						 value="#{usuarioFrontBean.inputArea}" immediate="true" partialSubmit="true" valueChangeListener="#{usuarioFrontBean.changeArea}" style="font-family: 'Times New Roman', Times, serif;">
						<f:selectItem itemValue="-1" itemLabel="Seleccione..." />
						<f:selectItems value="#{usuarioFrontBean.listaArea}" />
					</ice:selectOneMenu></td>
				<td align="left"><ice:outputText value="Sub Área" style="font-family: 'Times New Roman', Times, serif;"/></td>
				<td align="left"><ice:selectOneMenu
						 value="#{usuarioFrontBean.inputSubarea}" immediate="true">
						<f:selectItem itemValue="-1" itemLabel="Seleccione..." />
						<f:selectItems value="#{usuarioFrontBean.listaSubarea}" />
					</ice:selectOneMenu></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
			</tr>
		</table>
		<br />
			<table>
				<tr>
					<td><ace:pushButton value="Ingresar"
							actionListener="#{usuarioFrontBean.insertUsuarioListener}"
							rendered="#{!usuarioFrontBean.selected}" /></td>
					<td><ace:pushButton value="Modificar"
							actionListener="#{usuarioFrontBean.updateUsuarioListener}"
							rendered="#{usuarioFrontBean.selected}" /></td>
					<td><ace:pushButton value="Dar de Baja"
							actionListener="#{usuarioFrontBean.deleteUsuarioListener}"
							rendered="#{usuarioFrontBean.selected}" /></td>						
					<td><ace:pushButton value="Limpiar"
							actionListener="#{usuarioFrontBean.resetUsuarioListener}" /></td>
				</tr>
			</table>
		<ace:dataTable value="#{usuarioFrontBean.listaUsuarios}" var="user" rows="10" paginator="true" paginatorPosition="top" selectionMode="single" rowSelectListener="#{usuarioFrontBean.usuarioSelectListener}">
			<ace:column headerText="Usuario" style="color:black; font-size: small;font-family: 'Times New Roman', Times, serif;  text-align:left;">
				<h:outputText  value="#{user.usuario}" style="color:black; font-size: small;font-family: 'Times New Roman', Times, serif;"/>
			</ace:column>
			<ace:column headerText="Nombre" style="color:black; font-size: small;font-family: 'Times New Roman', Times, serif; text-align:left;">
				<h:outputText  value="#{user.nombre}" style="color:black; font-size: small;font-family: 'Times New Roman', Times, serif;"/>
			</ace:column>
			<ace:column headerText="Rol" style="color:black; font-size: small;font-family: 'Times New Roman', Times, serif; text-align:left;">
				<h:outputText  value="#{user.rol}" style="color:black; font-size: small;font-family: 'Times New Roman', Times, serif;">
					<f:converter converterId="rolConverter"/>
				</h:outputText>
			</ace:column>
			<ace:column headerText="Proceso" style="color:black; font-size: small;font-family: 'Times New Roman', Times, serif; text-align:left;">
				<h:outputText  value="#{user.rolProceso}" style="color:black; font-size: small;font-family: 'Times New Roman', Times, serif;">
					<f:converter converterId="rolProcesoConverter"/>
				</h:outputText>
			</ace:column>
			<ace:column headerText="Empresa" style="color:black; font-size: small;font-family: 'Times New Roman', Times, serif; text-align:left;">
				<h:outputText  value="#{user.idEmpresa}" style="color:black; font-size: small;font-family: 'Times New Roman', Times, serif;">
					<f:converter converterId="empresaConverter"/>
				</h:outputText>
			</ace:column>
			<ace:column headerText="Área" style="color:black; font-size: small;font-family: 'Times New Roman', Times, serif; text-align:left;">
				<h:outputText  value="#{user.area}" style="color:black; font-size: small;font-family: 'Times New Roman', Times, serif;">
					<f:converter converterId="areaConverter"/>
				</h:outputText>
			</ace:column>
			<ace:column headerText="Subarea" style="color:black; font-size: small;font-family: 'Times New Roman', Times, serif; text-align:left;">
				<h:outputText  value="#{user.subarea}" style="color:black; font-size: small; font-family: 'Times New Roman', Times, serif;">
					<f:converter converterId="subareaConverter"/>
				</h:outputText>
			</ace:column>
		</ace:dataTable> 
    </ice:panelGroup>
	</h:form>
</ui:composition>
